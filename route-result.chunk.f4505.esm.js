(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{AgIf:function(t,e,n){"use strict";n.r(e),function(t){function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(){return history.state}var i=n("hosL"),s=n("QRet"),_=n("Y3FI"),l=n("zEpr"),u=n("jUMG"),h=n("BaaC");const f=()=>Object(i.h)("div",{className:"is-flex is-flex-direction-column is-justify-content-space-around is-align-items-center"},Object(i.h)("div",{className:"block loader is-loading",style:{width:"100px",height:"100px"}}),Object(i.h)("div",{className:"has-text-centered is-size-5"},Object(i.h)("p",null,"Processing..."),Object(i.h)("p",null,"This could take up to 15 seconds"))),b=({category:t,list:e})=>Object(i.h)(l.m,{narrow:!0,hoverable:!0,fullWidth:!0},Object(i.h)("thead",null,Object(i.h)("tr",null,Object(i.h)("th",null,t),Object(i.h)("th",null,"Score"))),Object(i.h)("tbody",null,e&&e.map((({name:t,score:e})=>Object(i.h)("tr",{key:t},Object(i.h)("td",{class:h.a.tagNameColumn},Object(i.h)("a",{title:t,href:`https://danbooru.donmai.us/wiki_pages/${encodeURIComponent(t)}`,target:"_blank",rel:"noopener noreferrer"},t)),Object(i.h)("td",{class:h.a.tagScoreColumn},"number"==typeof e&&Object(i.h)("div",{class:h.a.tagScore},Object(i.h)(l.k,{size:"small",color:"info",value:e,max:1,class:h.a.tagScoreBar}),Object(i.h)("span",{class:h.a.tagScoreLabel},e.toFixed(3)))))))||Object(i.h)("tr",null,Object(i.h)("td",{colSpan:2},Object(i.h)(l.l,null,Object(i.h)(l.c,{class:"has-text-grey has-text-centered"},Object(i.h)("p",null,Object(i.h)(l.h,{icon:"far fa-3x fa-frown"})),Object(i.h)("p",null,"No data")))))));e.default=()=>{const[e,n]=Object(s.c)((()=>{var t;return(null==(t=a())?void 0:t.responseData)||null})),[o,c]=Object(s.c)((()=>{var t;return(null==(t=a())?void 0:t.imageUrl)||null}));return Object(s.a)((()=>{e&&history.replaceState(r({responseData:e},history.state),""),o&&history.replaceState(r({imageUrl:o},history.state),"")}),[e,o]),Object(s.a)((()=>{var t;if(!a()||null==(t=a())||!t.requestData)return void Object(_.c)(`${u.a}/`,!0);const e=a().requestData,o=new AbortController,r=o.signal;if(!a().responseData){const t=new FormData;e.file?t.append("file",e.file):t.append("url",e.url),fetch("https://witchbooru.mosm.dev/",{method:"POST",body:t,signal:r}).then((t=>t.json())).then(n).catch((t=>{"AbortError"!==t.name&&n({ok:!1,error:"Failed to receive response"})}))}if(!a().imageUrl)if(e.file&&e.file.size>0){const t=new FileReader;t.onload=()=>c(t.result),r.onabort=()=>t.abort(),t.readAsDataURL(e.file)}else c(e.url);return()=>o.abort()}),[]),e?Object(i.h)(t,null,Object(i.h)("div",{className:"block"},Object(i.h)(l.a,{color:"link",outlined:!0,onClick:()=>history.back()},Object(i.h)(l.h,{icon:"fas fa-chevron-left"}),Object(i.h)("span",null,"Back"))),e.ok?Object(i.h)("div",{className:"columns is-centered"},Object(i.h)("div",{className:"column"},o&&Object(i.h)(l.i,{alt:"Image",src:o})),Object(i.h)("div",{className:"column is-narrow"},Object(i.h)(b,{category:"General tag",list:e.general||null})),Object(i.h)("div",{className:"column is-narrow"},Object(i.h)(b,{category:"Character",list:e.character||null}))):Object(i.h)("div",{className:"container is-max-desktop"},Object(i.h)(l.j,{title:"Error",class:"is-danger"},e.error))):Object(i.h)(f,null)}}.call(this,n("hosL").Fragment)},BaaC:function(t,e){"use strict";e.a={tagScore:"tagScore__38hBM",tagScoreBar:"tagScoreBar__1j2tc",tagScoreLabel:"tagScoreLabel__3oZcT",tagNameColumn:"tagNameColumn__18fgE",tagScoreColumn:"tagScoreColumn__12bjV"}},QRet:function(t,e,n){"use strict";function o(t,e){m.options.__h&&m.options.__h(b,t,O||e),O=0;var n=b.__H||(b.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function r(t){return O=1,function(t,e,n){var r=o(f++,2);return r.t=t,r.__c||(r.__=[n?n(e):h(void 0,e),function(t){var e=r.t(r.__[0],t);r.__[0]!==e&&(r.__=[e,r.__[1]],r.__c.setState({}))}],r.__c=b),r.__}(h,t)}function c(t,e){var n=o(f++,3);!m.options.__s&&u(n.__H,e)&&(n.__=t,n.__H=e,b.__H.__h.push(n))}function a(t){return O=5,i((function(){return{current:t}}),[])}function i(t,e){var n=o(f++,7);return u(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function s(){j.forEach((function(t){if(t.__P)try{t.__H.__h.forEach(_),t.__H.__h.forEach(l),t.__H.__h=[]}catch(e){t.__H.__h=[],m.options.__e(e,t.__v)}})),j=[]}function _(t){var e=b;"function"==typeof t.__c&&t.__c(),b=e}function l(t){var e=b;t.__c=t.__(),b=e}function u(t,e){return!t||t.length!==e.length||e.some((function(e,n){return e!==t[n]}))}function h(t,e){return"function"==typeof e?e(t):e}n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return a}));var f,b,p,m=n("hosL"),O=0,j=[],d=m.options.__b,g=m.options.__r,v=m.options.diffed,y=m.options.__c,w=m.options.unmount;m.options.__b=function(t){b=null,d&&d(t)},m.options.__r=function(t){g&&g(t),f=0;var e=(b=t.__c).__H;e&&(e.__h.forEach(_),e.__h.forEach(l),e.__h=[])},m.options.diffed=function(t){v&&v(t);var e=t.__c;e&&e.__H&&e.__H.__h.length&&(1!==j.push(e)&&p===m.options.requestAnimationFrame||((p=m.options.requestAnimationFrame)||function(t){var e,n=function(){clearTimeout(o),S&&cancelAnimationFrame(e),setTimeout(t)},o=setTimeout(n,100);S&&(e=requestAnimationFrame(n))})(s)),b=void 0},m.options.__c=function(t,e){e.some((function(t){try{t.__h.forEach(_),t.__h=t.__h.filter((function(t){return!t.__||l(t)}))}catch(n){e.some((function(t){t.__h&&(t.__h=[])})),e=[],m.options.__e(n,t.__v)}})),y&&y(t,e)},m.options.unmount=function(t){w&&w(t);var e=t.__c;if(e&&e.__H)try{e.__H.__.forEach(_)}catch(t){m.options.__e(t,e.__v)}};var S="function"==typeof requestAnimationFrame}}]);
//# sourceMappingURL=route-result.chunk.f4505.esm.js.map