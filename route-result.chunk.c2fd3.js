(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{AgIf:function(t,e,n){"use strict";n.r(e),function(t){function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(){return history.state}var i=n("hosL"),u=n("QRet"),_=n("Y3FI"),s=n("zEpr"),l=n("jUMG"),h=n("BaaC"),f=function(){return Object(i.h)("div",{className:"is-flex is-flex-direction-column is-justify-content-space-around is-align-items-center"},Object(i.h)("div",{className:"block loader is-loading",style:{width:"100px",height:"100px"}}),Object(i.h)("div",{className:"has-text-centered is-size-5"},Object(i.h)("p",null,"Processing..."),Object(i.h)("p",null,"This could take up to 15 seconds")))},b=function(t){var e=t.category,n=t.list;return Object(i.h)(s.m,{narrow:!0,hoverable:!0,fullWidth:!0},Object(i.h)("thead",null,Object(i.h)("tr",null,Object(i.h)("th",null,e),Object(i.h)("th",null,"Score"))),Object(i.h)("tbody",null,n&&n.map((function(t){var e=t.name,n=t.score;return Object(i.h)("tr",{key:e},Object(i.h)("td",{class:h.a.tagNameColumn},Object(i.h)("a",{title:e,href:"https://danbooru.donmai.us/wiki_pages/"+encodeURIComponent(e),target:"_blank",rel:"noopener noreferrer"},e)),Object(i.h)("td",{class:h.a.tagScoreColumn},"number"==typeof n&&Object(i.h)("div",{class:h.a.tagScore},Object(i.h)(s.k,{size:"small",color:"info",value:n,max:1,class:h.a.tagScoreBar}),Object(i.h)("span",{class:h.a.tagScoreLabel},n.toFixed(3)))))}))||Object(i.h)("tr",null,Object(i.h)("td",{colSpan:2},Object(i.h)(s.l,null,Object(i.h)(s.c,{class:"has-text-grey has-text-centered"},Object(i.h)("p",null,Object(i.h)(s.h,{icon:"far fa-3x fa-frown"})),Object(i.h)("p",null,"No data")))))))};e.default=function(){var e=Object(u.c)((function(){var t;return(null==(t=a())?void 0:t.responseData)||null})),n=e[0],r=e[1],c=Object(u.c)((function(){var t;return(null==(t=a())?void 0:t.imageUrl)||null})),h=c[0],p=c[1];return Object(u.a)((function(){n&&history.replaceState(o({responseData:n},history.state),""),h&&history.replaceState(o({imageUrl:h},history.state),"")}),[n,h]),Object(u.a)((function(){var t;if(a()&&null!=(t=a())&&t.requestData){var e=a().requestData,n=new AbortController,o=n.signal;if(!a().responseData){var c=new FormData;e.file?c.append("file",e.file):c.append("url",e.url),fetch("https://witchbooru.mosm.dev/",{method:"POST",body:c,signal:o}).then((function(t){return t.json()})).then(r).catch((function(t){"AbortError"!==t.name&&r({ok:!1,error:"Failed to receive response"})}))}if(!a().imageUrl)if(e.file&&e.file.size>0){var i=new FileReader;i.onload=function(){return p(i.result)},o.onabort=function(){return i.abort()},i.readAsDataURL(e.file)}else p(e.url);return function(){return n.abort()}}Object(_.c)(l.a+"/",!0)}),[]),n?Object(i.h)(t,null,Object(i.h)("div",{className:"block"},Object(i.h)(s.a,{color:"link",outlined:!0,onClick:function(){return history.back()}},Object(i.h)(s.h,{icon:"fas fa-chevron-left"}),Object(i.h)("span",null,"Back"))),n.ok?Object(i.h)("div",{className:"columns is-centered"},Object(i.h)("div",{className:"column"},h&&Object(i.h)(s.i,{alt:"Image",src:h})),Object(i.h)("div",{className:"column is-narrow"},Object(i.h)(b,{category:"General tag",list:n.general||null})),Object(i.h)("div",{className:"column is-narrow"},Object(i.h)(b,{category:"Character",list:n.character||null}))):Object(i.h)("div",{className:"container is-max-desktop"},Object(i.h)(s.j,{title:"Error",class:"is-danger"},n.error))):Object(i.h)(f,null)}}.call(this,n("hosL").Fragment)},BaaC:function(t,e){"use strict";e.a={tagScore:"tagScore__38hBM",tagScoreBar:"tagScoreBar__1j2tc",tagScoreLabel:"tagScoreLabel__3oZcT",tagNameColumn:"tagNameColumn__18fgE",tagScoreColumn:"tagScoreColumn__12bjV"}},QRet:function(t,e,n){"use strict";function r(t,e){m.options.__h&&m.options.__h(b,t,O||e),O=0;var n=b.__H||(b.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function o(t){return O=1,function(t,e,n){var o=r(f++,2);return o.t=t,o.__c||(o.__=[n?n(e):h(void 0,e),function(t){var e=o.t(o.__[0],t);o.__[0]!==e&&(o.__=[e,o.__[1]],o.__c.setState({}))}],o.__c=b),o.__}(h,t)}function c(t,e){var n=r(f++,3);!m.options.__s&&l(n.__H,e)&&(n.__=t,n.__H=e,b.__H.__h.push(n))}function a(t){return O=5,i((function(){return{current:t}}),[])}function i(t,e){var n=r(f++,7);return l(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function u(){j.forEach((function(t){if(t.__P)try{t.__H.__h.forEach(_),t.__H.__h.forEach(s),t.__H.__h=[]}catch(e){t.__H.__h=[],m.options.__e(e,t.__v)}})),j=[]}function _(t){var e=b;"function"==typeof t.__c&&t.__c(),b=e}function s(t){var e=b;t.__c=t.__(),b=e}function l(t,e){return!t||t.length!==e.length||e.some((function(e,n){return e!==t[n]}))}function h(t,e){return"function"==typeof e?e(t):e}n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return a}));var f,b,p,m=n("hosL"),O=0,j=[],d=m.options.__b,v=m.options.__r,g=m.options.diffed,y=m.options.__c,w=m.options.unmount;m.options.__b=function(t){b=null,d&&d(t)},m.options.__r=function(t){v&&v(t),f=0;var e=(b=t.__c).__H;e&&(e.__h.forEach(_),e.__h.forEach(s),e.__h=[])},m.options.diffed=function(t){g&&g(t);var e=t.__c;e&&e.__H&&e.__H.__h.length&&(1!==j.push(e)&&p===m.options.requestAnimationFrame||((p=m.options.requestAnimationFrame)||function(t){var e,n=function(){clearTimeout(r),S&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);S&&(e=requestAnimationFrame(n))})(u)),b=void 0},m.options.__c=function(t,e){e.some((function(t){try{t.__h.forEach(_),t.__h=t.__h.filter((function(t){return!t.__||s(t)}))}catch(n){e.some((function(t){t.__h&&(t.__h=[])})),e=[],m.options.__e(n,t.__v)}})),y&&y(t,e)},m.options.unmount=function(t){w&&w(t);var e=t.__c;if(e&&e.__H)try{e.__H.__.forEach(_)}catch(t){m.options.__e(t,e.__v)}};var S="function"==typeof requestAnimationFrame}}]);
//# sourceMappingURL=route-result.chunk.c2fd3.js.map